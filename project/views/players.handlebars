<h1>Players</h1>
<h2>Search, Create, Delete or Update Players</h2>
<head>
    <style>
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
        }
    </style>
</head>
<body>
	<form action="" id="filterPlayers" method="">
    <select id="game_filter" name="game">
      {{#each Game}}
        <option value="{{id}}">{{name}}</option>
      {{/each}}
    </select>
		<input type="button" value="Filter By Game" onclick="filterByGame()">
	</form><br>

  <form action="/Players" method="post" id="charCreate">
    <input type="text" placeholder="First Name" name="firstname">
    <input type="text" placeholder="Last Name" name="lastname">
    <!-- <input list="games" placeholder="Name of Game" name="gameName"> -->
    <select name="gameName">
      {{#each Game}}
        <option value="{{id}}">{{name}}</option>
      {{/each}}
    </select>
    <input type="text" placeholder="Character Class" name="class">
    <input type="submit" value="Create Character">
  </form>

	<form action="" id="submitChar">
	<table>
	    <thead>
	        <th>First Name</th>
	        <th>Last Name</th>
	        <th>Playable</th>
	        <th>Game</th>
	        <th>Class</th>
	        <th>Spouse</th>
	        <th>Hitpoints</th>
	    </thead>
      <tbody>
        {{#each player}}
        <tr>
          <td>{{firstName}}</td>
          <td>{{lastName}}</td>
          {{#if playable}}
            <td>Yes</td>
          {{else}}
            <td>No</td>
          {{/if}}
          <td>{{game}}</td>
          <td>{{class}}</td>
          {{#if SpouseID}}
            <td>{{SpouseID}}</td>
          {{else}}
            <td>None</td>
          {{/if}}
          <td>{{hitpointVal}}</td>
          <th><button type="button" onclick="getForm('modify')">Character Sheet</button></th>
          <th><button type="button" onclick="getForm('delete')">Delete</button></th>
        </tr>
        {{/each}}
      </tbody>
	</table>
  <script>
    function filterByGame() {
      //get the id of the selected homeworld from the filter dropdown
      var gameid = document.getElementById('game_filter').value
      //construct the URL and redirect to it
      window.location = '/Players/filter/' + parseInt(gameid)
    }
  </script>
</body>
